# コマ7実装プロンプト: デモアプリ改善とプレ発表準備

このプロンプトに従って、デモアプリを改善し、プレ発表の準備を進めてください。

---

## 🔧 デモアプリの改善（オプション）

時間があれば、以下の機能を追加してください：

### 改善案1: 判定理由の詳細表示

`demo_app.py` に以下の機能を追加：

```python
def explain_prediction(text, pred_label):
    """
    判定理由を説明
    """
    reasons = []
    
    if pred_label == 0:  # 明確
        if any(word in text for word in ['まで', '17時', '今日', '明日', '金曜']):
            reasons.append("✅ 具体的な期限が明示されている")
        if any(word in text for word in ['作成', '送信', '印刷', 'メール', 'PDF']):
            reasons.append("✅ 具体的な行動内容が含まれている")
        if any(word in text for word in ['A社', '月次', 'Excel']):
            reasons.append("✅ 対象が明確に指定されている")
    else:  # 曖昧
        if any(word in text for word in ['早めに', 'なる早', '後で', '手が空いたら']):
            reasons.append("⚠️ 期限が曖昧（早めに、なる早など）")
        if any(word in text for word in ['例の', 'いつもの', 'あれ', 'この前']):
            reasons.append("⚠️ 対象が不明確（例の件、いつものなど）")
        if any(word in text for word in ['ざっと', '適当に', 'いい感じに']):
            reasons.append("⚠️ 程度が感覚的（ざっと、適当になど）")
        if any(word in text for word in ['対応', '処理', 'よろしく']):
            reasons.append("⚠️ 行動内容が抽象的（対応する、処理するなど）")
    
    if not reasons:
        reasons.append("一般的な判定基準に基づいて判定しました。")
    
    return "\n".join(reasons)
```

---

## 📊 プレ発表スライドの作成

### スライド構成（5-7枚）

---

#### スライド1: タイトル

```
【タイトル】
外国人労働者向け
ビジネス指示文 曖昧性判定システム

【サブタイトル】
BERTを用いた明確性の自動判定

【所属・氏名】
○○大学 ○○学部
氏名

【日付】
20XX年XX月XX日
```

---

#### スライド2: 研究背景・課題

```
【研究背景】

問題意識:
日本の職場では「曖昧な指示」が多い

例:
- 「例の件、早めに対応しといて」
- 「いつものフォーマットで、なる早で」
- 「ざっと目を通しておいて」

↓

外国人労働者にとっては理解困難
→ ミスコミュニケーションの原因に

【研究目的】
曖昧な指示を自動検出し、
明確化を支援するシステムの構築
```

---

#### スライド3: 提案手法

```
【提案手法】

■ BERTによる二値分類モデル
- モデル: 東北大学BERT (cl-tohoku/bert-base-japanese-v3)
- タスク: 明確 vs 曖昧の判定

■ データセット
- 総数: 2,000件
- 内訳: 明確1,000件 / 曖昧1,000件
- 分割: Train 80% / Val 10% / Test 10%

■ 判定基準
- 明確: What（内容）とWhen（期限）が具体的
- 曖昧: WhatまたはWhenが不明確
```

---

#### スライド4: データセット例

```
【データセット例】

■ 明確な指示（Label 0）

✅ 「今日の17時までに、A社向けの見積書を
   PDFで作成してSlackにアップしてください。」

✅ 「10月の月次売上レポートを、明日の午前中までに
   Excelで山田さんにメール送信してください。」


■ 曖昧な指示（Label 1）

⚠️ 「例の件、早めに対応しといて。」
   → 対象不明、期限不明

⚠️ 「いつものフォーマットで、なる早でお願い。」
   → 暗黙知、期限曖昧
```

---

#### スライド5: 実験結果

```
【実験結果】

■ 学習設定
- Epochs: 3-4
- Batch size: 16
- Learning rate: 2e-5

■ 精度（Test データ）

| 指標 | 初回学習 | 再学習 |
|------|---------|--------|
| Accuracy | XX% | XX% |
| F1スコア | X.XX | X.XX |
| Precision | X.XX | X.XX |
| Recall | X.XX | X.XX |

■ 混同行列
（画像を貼り付け）
```

---

#### スライド6: デモンストレーション

```
【デモンストレーション】

■ Gradioを用いたWebアプリ

（デモアプリのスクリーンショットを貼り付け）

■ 機能
- テキスト入力 → 即座に判定
- 判定結果: 明確 / 曖昧
- 信頼度スコア表示
- サンプルテキスト

※ライブデモまたは動画を準備
```

---

#### スライド7: 今後の計画

```
【今後の計画】

■ 短期（本番発表まで）
- 精度向上（目標: Accuracy 85%以上）
- データセット拡張（2,000件 → 3,000-5,000件）
- 改善提案機能の追加

■ 中期
- 多クラス分類への拡張
  （What欠如 / When欠如 / How欠如）
- メール文・チャット文への対応

■ 長期
- 実際の職場での実証実験
- 多言語対応（英語・中国語・ベトナム語）
```

---

## 📝 発表ノートの作成

`発表ノート.md` を作成してください：

```markdown
# プレ発表 発表ノート

## タイムテーブル（合計5分）

| 時間 | スライド | 内容 | 話す時間 |
|------|---------|------|---------|
| 0:00-0:30 | 1 | タイトル・自己紹介 | 30秒 |
| 0:30-1:30 | 2 | 研究背景・課題 | 1分 |
| 1:30-2:30 | 3 | 提案手法・データセット | 1分 |
| 2:30-3:00 | 4 | データセット例 | 30秒 |
| 3:00-4:00 | 5 | 実験結果 | 1分 |
| 4:00-5:00 | 6 | デモンストレーション | 1分 |
| 5:00-5:30 | 7 | 今後の計画 | 30秒 |

---

## スライド別 話す内容

### スライド1: タイトル（30秒）

```
本日は、外国人労働者向けのビジネス指示文曖昧性判定システムについて発表します。
日本の職場でよく使われる「曖昧な指示」を自動で検出し、
外国人労働者が理解しやすい明確な指示への書き換えを支援するシステムです。
```

---

### スライド2: 研究背景（1分）

```
まず、研究背景についてです。
日本の職場では、「例の件、早めに対応しといて」や
「いつものフォーマットで、なる早でお願い」といった
曖昧な指示が日常的に使われています。

これらは日本人であれば文脈や暗黙知から理解できますが、
外国人労働者にとっては「何を」「いつまでに」すべきか不明確で、
ミスコミュニケーションの原因となります。

そこで本研究では、BERTを用いて指示文の明確性を自動判定し、
曖昧な指示を検出することで、コミュニケーションの改善を目指します。
```

---

### スライド3: 提案手法（1分）

```
提案手法について説明します。
東北大学のBERTモデルを用いて、指示文を「明確」と「曖昧」の
二値分類するモデルを構築しました。

データセットは、自作で2,000件を作成しました。
明確な指示と曖昧な指示がそれぞれ1,000件ずつで、
Train 80%、Validation 10%、Test 10%に分割しています。

判定基準は、「What（内容）」と「When（期限）」が
両方具体的であれば明確、どちらかが欠けていれば曖昧としています。
```

---

### スライド4: データセット例（30秒）

```
具体的なデータセット例です。
明確な指示は、期限・内容・形式・場所がすべて具体的です。
一方、曖昧な指示は、「例の件」のように対象が不明確だったり、
「早めに」のように期限が曖昧だったりします。
```

---

### スライド5: 実験結果（1分）

```
実験結果です。
初回学習では、Accuracy XX%を達成しました。
その後、エラー分析を行い、ハイパーパラメータを調整して再学習した結果、
Accuracy XX%まで向上しました。

混同行列からは、明確な指示と曖昧な指示の両方を
バランス良く判定できていることがわかります。

（具体的な数値を述べる）
```

---

### スライド6: デモンストレーション（1分）

```
実際のシステムをデモンストレーションします。
Gradioを使ってWebアプリケーションを作成しました。

（ライブデモまたは事前録画デモを実施）

このように、指示文を入力すると即座に明確か曖昧かを判定し、
信頼度スコアも表示されます。
実際の職場でこのシステムを使うことで、
上司は自分の指示が分かりやすいかをリアルタイムで確認できます。
```

---

### スライド7: 今後の計画（30秒）

```
今後の計画です。
本番発表までに、データセットを拡張して精度をさらに向上させます。
また、改善提案機能を追加して、
曖昧な指示をどう書き直せばいいかを提案できるようにします。

長期的には、実際の職場での実証実験や多言語対応も検討しています。

以上で発表を終わります。ご清聴ありがとうございました。
```

---

## 💬 想定質問と回答

### Q1: なぜBERTを選んだのですか？

**A**: BERTは日本語の文脈理解に優れており、
特に東北大学BERTは日本語のビジネス文書に対して
高い性能を発揮することが知られています。
また、事前学習済みモデルを利用できるため、
比較的少ないデータセットでも高精度を達成できます。

---

### Q2: データセットはどうやって作成しましたか？

**A**: 詳細なアノテーションガイドラインを作成し、
明確/曖昧の判定基準を明確に定義した上で、
ルールベースとテンプレート方式で生成しました。
多様な業種・シチュエーション・口調を考慮し、
自然な日本語表現になるよう工夫しています。

---

### Q3: 精度は十分だと思いますか？

**A**: 現在の精度はXX%で、初期目標は達成していますが、
実用化にはさらなる精度向上が必要と考えています。
本番発表までにデータセットを拡張し、
Accuracy 85%以上を目指します。

---

### Q4: 実際の職場で使えますか？

**A**: 現段階はプロトタイプですが、
基本的な判定機能は実装できています。
実用化には、より多様なデータでの学習や、
企業ごとのカスタマイズが必要になると考えています。

---

### Q5: 他の手法との比較は行いましたか？

**A**: 現在はBERTのみですが、今後は他のモデル
（RoBERTa、GPTなど）との比較も検討しています。
また、ルールベース手法との比較も有用だと考えています。
```

---

## ✅ 完了確認

- [ ] デモアプリを改善した（オプション）
- [ ] プレ発表スライドを作成した（5-7枚）
- [ ] `発表ノート.md` を作成した
- [ ] `想定質問と回答.md` を作成した
- [ ] 一度通して練習した
- [ ] 時間を計測した（5分以内に収まるか）

---

## ⏭️ 次のコマ（コマ8）への準備

以下を確認してください：

1. **スライド完成度**: 完成 / 要調整
2. **発表練習**: 実施済み / 未実施
3. **タイム**: _分_秒（目標5分）

次のコマ8で最終調整とリハーサルを行います。










