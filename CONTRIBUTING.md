# 貢献ガイドライン

本プロジェクトへの貢献に興味を持っていただき、ありがとうございます！

## 貢献の種類

### 1. データ品質の改善

#### 不適切なラベルの報告

データセット内で、ラベルが不適切だと思われるものを見つけた場合：

1. Issueを作成
2. タイトル: `[データ品質] 不適切なラベル: "{指示文の一部}"`
3. 以下の情報を含める：
   - 該当する指示文
   - 現在のラベル
   - 提案するラベル
   - 理由

#### 新しいサンプルの追加提案

より多様なサンプルを追加したい場合：

1. Issueまたは Pull Requestを作成
2. タイトル: `[データ追加] {業種/シチュエーション}`
3. 以下の情報を含める：
   - 追加したい指示文（5件以上推奨）
   - ラベル（0: 明確 / 1: 曖昧）
   - 判定理由
   - どのような観点で多様性が増すか

### 2. ドキュメントの改善

#### README の改善

- 誤字脱字の修正
- 説明の明確化
- 使用例の追加
- FAQ の追加

#### 判定ルールの明確化

判定ルールに曖昧な点がある場合：

1. Issueを作成
2. タイトル: `[ドキュメント] 判定ルールの改善提案`
3. 以下を含める：
   - どの部分が不明確か
   - 具体例
   - 改善案

### 3. コードの改善

#### データ生成スクリプトの最適化

- `generate_dataset.py` の改善
- より自然な表現の生成
- 新しいバリエーションの追加

#### チェックスクリプトの追加

- `check_dataset.py` への機能追加
- 新しい品質チェック項目の追加
- 可視化機能の追加

### 4. モデル開発への貢献

BERTモデルの学習・評価に関する貢献：

- 学習スクリプトの提供
- ハイパーパラメータチューニング結果の共有
- モデル評価結果の報告
- 推論デモの作成

## Pull Request の手順

### 1. フォーク

このリポジトリを自分のアカウントにフォークします。

### 2. クローン

```bash
git clone https://github.com/your-username/repository-name.git
cd repository-name
```

### 3. ブランチ作成

```bash
# 機能追加の場合
git checkout -b feature/your-feature-name

# バグ修正の場合
git checkout -b fix/bug-description

# ドキュメント改善の場合
git checkout -b docs/improvement-description
```

### 4. 変更を加える

必要な変更を加えて、テストを実行します。

```bash
# データセットの変更の場合
python check_dataset.py

# スクリプトの変更の場合
python your_script.py
```

### 5. コミット

```bash
git add .
git commit -m "種類: 変更内容の簡潔な説明

詳細な説明（必要に応じて）
"
```

コミットメッセージの種類：
- `feat:` - 新機能
- `fix:` - バグ修正
- `docs:` - ドキュメント更新
- `style:` - コードフォーマット変更
- `refactor:` - リファクタリング
- `test:` - テスト追加・修正
- `chore:` - その他の変更

### 6. プッシュ

```bash
git push origin feature/your-feature-name
```

### 7. Pull Request 作成

GitHubでPull Requestを作成します。

#### PRテンプレート

```markdown
## 変更の概要
この Pull Request の目的を簡潔に説明してください。

## 変更の種類
- [ ] バグ修正
- [ ] 新機能
- [ ] ドキュメント更新
- [ ] コード改善
- [ ] データ品質改善

## 変更の詳細
何を変更したか、なぜ変更したかを説明してください。

## テスト
どのようにテストしたかを記載してください。

## チェックリスト
- [ ] コードが正しく動作することを確認した
- [ ] ドキュメントを更新した（必要な場合）
- [ ] データ品質チェックを実行した（データ変更の場合）
- [ ] コミットメッセージが適切
```

## コーディング規約

### Python コード

- PEP 8に準拠
- 関数・クラスにはdocstringを記載
- 型ヒントを使用（Python 3.6+）

```python
def load_dataset(filepath: str) -> List[Dict[str, Any]]:
    """
    データセットを読み込む
    
    Args:
        filepath: JSONLファイルのパス
        
    Returns:
        データのリスト
    """
    with open(filepath, 'r', encoding='utf-8') as f:
        return [json.loads(line) for line in f]
```

### データセット形式

- JSONL形式を維持
- UTF-8エンコーディング
- 各行は以下の構造：

```json
{"text": "指示文", "label": 0 or 1, "reason": "判定根拠"}
```

### ドキュメント

- Markdown形式
- 見出しの階層を適切に使用
- コード例には言語指定を含める

## Issue の作成

### バグ報告

タイトル: `[Bug] 簡潔な説明`

内容：
```markdown
## 現象
何が起きているか

## 再現手順
1. ステップ1
2. ステップ2
3. ステップ3

## 期待される動作
どうあるべきか

## 環境
- OS: 
- Python バージョン:
- 関連ライブラリのバージョン:

## 追加情報
スクリーンショットやエラーメッセージなど
```

### 機能提案

タイトル: `[Feature] 簡潔な説明`

内容：
```markdown
## 提案内容
何を追加・改善したいか

## 理由
なぜこの機能が必要か

## 実装案（任意）
どのように実装するか

## 代替案（任意）
他にどのようなアプローチが考えられるか
```

### 質問

タイトル: `[Question] 簡潔な説明`

内容：
```markdown
## 質問内容
何について知りたいか

## 背景
なぜこの質問をしているか

## 調べたこと
既に試したこと・確認したこと
```

## コミュニティガイドライン

### 行動規範

- 敬意を持って接する
- 建設的なフィードバックを心がける
- 多様性を尊重する
- ハラスメントを許容しない

### コミュニケーション

- Issue や PR でのコメントは日本語または英語
- 専門用語を使う場合は説明を添える
- 返信は数日以内を目安に（強制ではありません）

## レビュープロセス

### Pull Request のレビュー基準

1. **機能性**: 意図した通りに動作するか
2. **品質**: コードの品質、可読性
3. **ドキュメント**: 適切に文書化されているか
4. **テスト**: 十分にテストされているか
5. **互換性**: 既存の機能を壊していないか

### マージの条件

- [ ] レビュワーの承認（1名以上）
- [ ] CI（継続的インテグレーション）が通過
- [ ] コンフリクトが解決されている
- [ ] ドキュメントが更新されている

## 認識と謝辞

貢献者は以下の方法で認識されます：

- README の Contributors セクション
- リリースノート
- コミット履歴

大きな貢献をしていただいた方には、Collaborator権限をお渡しすることもあります。

## ライセンス

貢献したコードは、本リポジトリのライセンス（Research Use Only License）の下で公開されることに同意したものとみなします。

## 質問・サポート

質問がある場合：

1. まず[README](README.md)を確認
2. 既存のIssueを検索
3. 該当するものがなければ、新しいIssueを作成

---

ご協力ありがとうございます！🙏





